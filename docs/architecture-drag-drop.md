# üñ±Ô∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ Drag & Drop –∏ –º–æ–±–∏–ª—å–Ω–æ–π –∞–¥–∞–ø—Ç–∞—Ü–∏–∏

> **–°—Ç–∞—Ç—É—Å:** –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–∞—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è  
> **–í–µ—Ä—Å–∏—è:** v3.2.0 (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è)  
> **–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2026-01-27

---

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–û–±–∑–æ—Ä](#-–æ–±–∑–æ—Ä)
- [–¶–µ–ª–∏](#-—Ü–µ–ª–∏)
- [–¢–µ–∫—É—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](#-—Ç–µ–∫—É—â–∞—è-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
- [–ü—Ä–µ–¥–ª–∞–≥–∞–µ–º–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](#-–ø—Ä–µ–¥–ª–∞–≥–∞–µ–º–∞—è-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
- [API –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã](#-api-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã)
- [–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã](#-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã)
- [–ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏](#-–ø–ª–∞–Ω-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏)

---

## üéØ –û–±–∑–æ—Ä

–î–∞–Ω–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É —Å–∏—Å—Ç–µ–º—ã —Ç–∞–∫—Ç–∏–ª—å–Ω–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å timeline-–±–∞—Ä–∞–º–∏ –∑–∞–º–µ—Ç–æ–∫ –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä–Ω–æ–º –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–∏. –¶–µ–ª—å ‚Äî –æ–±–µ—Å–ø–µ—á–∏—Ç—å –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –∑–∞–º–µ—Ç–æ–∫ —á–µ—Ä–µ–∑ drag & drop –∫–∞–∫ –Ω–∞ –¥–µ—Å–∫—Ç–æ–ø–µ, —Ç–∞–∫ –∏ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö.

### –ö–ª—é—á–µ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

1. **–°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–º–µ—Ç–æ–∫** ‚Äî –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ –≤ –ø—É—Å—Ç—É—é –æ–±–ª–∞—Å—Ç—å timeline —Å–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—É—é –∑–∞–º–µ—Ç–∫—É
2. **–ò–∑–º–µ–Ω–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏** ‚Äî –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ –±–∞—Ä–∞ –∏–∑–º–µ–Ω—è–µ—Ç –≤—Ä–µ–º—è –Ω–∞—á–∞–ª–∞/–æ–∫–æ–Ω—á–∞–Ω–∏—è
3. **–ò–∑–º–µ–Ω–µ–Ω–∏–µ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏** ‚Äî —Ä–∞—Å—Ç—è–≥–∏–≤–∞–Ω–∏–µ –≥—Ä–∞–Ω–∏—Ü –±–∞—Ä–∞ –º–µ–Ω—è–µ—Ç –ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
4. **–ü–µ—Ä–µ–Ω–æ—Å –º–µ–∂–¥—É –¥–Ω—è–º–∏** ‚Äî –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ –º–µ–∂–¥—É –∫–æ–ª–æ–Ω–∫–∞–º–∏ –¥–Ω–µ–π
5. **Multi-day —Å–æ–±—ã—Ç–∏—è** ‚Äî —Ä–∞—Å—Ç—è–≥–∏–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ –≥—Ä–∞–Ω–∏—Ü—ã –¥–Ω–µ–π

---

## üéØ –¶–µ–ª–∏

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

| –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç |
|------------|----------|-----------|
| **F-DD-001** | Drag & drop –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞—á–∞–ª–∞ | üî¥ –í—ã—Å–æ–∫–∏–π |
| **F-DD-002** | Resize –≥—Ä–∞–Ω–∏—Ü –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ | üî¥ –í—ã—Å–æ–∫–∏–π |
| **F-DD-003** | Touch-—Å–æ–±—ã—Ç–∏—è –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ | üî¥ –í—ã—Å–æ–∫–∏–π |
| **F-DD-004** | –í–∏–∑—É–∞–ª—å–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å –ø—Ä–∏ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–∏ | üü° –°—Ä–µ–¥–Ω–∏–π |
| **F-DD-005** | Snap-to-grid (–ø—Ä–∏–≤—è–∑–∫–∞ –∫ –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞–º) | üü° –°—Ä–µ–¥–Ω–∏–π |
| **F-DD-006** | Multi-day —Å–æ–±—ã—Ç–∏—è | üü¢ –ù–∏–∑–∫–∏–π |
| **F-DD-007** | Collision detection (–ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–π) | üü° –°—Ä–µ–¥–Ω–∏–π |

### –ù–µ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –æ—Ç–∫–ª–∏–∫ < 16ms (60fps)
- **–î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å**: –ø–æ–¥–¥–µ—Ä–∂–∫–∞ keyboard navigation
- **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**: iOS Safari, Android Chrome, Desktop browsers
- **–ü—Ä–∏–Ω—Ü–∏–ø –±–µ—Å—Å–ª–µ–¥–Ω–æ—Å—Ç–∏**: –Ω–∏–∫–∞–∫–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤–Ω–µ frontmatter

---

## üèóÔ∏è –¢–µ–∫—É—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
src/
‚îú‚îÄ‚îÄ lib/
‚îÇ   ‚îú‚îÄ‚îÄ dataframe/          # –†–∞–±–æ—Ç–∞ —Å –¥–∞–Ω–Ω—ã–º–∏ –∑–∞–º–µ—Ç–æ–∫
‚îÇ   ‚îú‚îÄ‚îÄ datasources/        # –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö (folder, tag, frontmatter)
‚îÇ   ‚îú‚îÄ‚îÄ duplicate/          # –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–ø–∏—Å–µ–π
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ collisionDetector.ts   # ‚ö° –†–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ –¥–ª—è D&D
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ multiDaySelection.ts   # ‚ö° –†–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ –¥–ª—è D&D
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ phantomRecord.ts       # ‚ö° –†–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ –¥–ª—è D&D
‚îÇ   ‚îî‚îÄ‚îÄ metadata/           # –ß—Ç–µ–Ω–∏–µ/–∑–∞–ø–∏—Å—å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ ui/
‚îÇ   ‚îî‚îÄ‚îÄ views/
‚îÇ       ‚îî‚îÄ‚îÄ Calendar/       # –ö–∞–ª–µ–Ω–¥–∞—Ä–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ
‚îÇ           ‚îú‚îÄ‚îÄ components/
‚îÇ           ‚îÇ   ‚îú‚îÄ‚îÄ Calendar/
‚îÇ           ‚îÇ   ‚îú‚îÄ‚îÄ Day/
‚îÇ           ‚îÇ   ‚îî‚îÄ‚îÄ Event/  # ‚ö° –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è D&D
‚îÇ           ‚îî‚îÄ‚îÄ calendar.ts
‚îî‚îÄ‚îÄ managers/
    ‚îî‚îÄ‚îÄ CommandManager.ts   # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥–∞–º–∏
```

### –ö–ª—é—á–µ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

#### 1. DataSource Layer (`src/lib/datasources/`)

```typescript
// –¢–µ–∫—É—â–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –¥–∞–Ω–Ω—ã—Ö
interface DataSource {
  query(): Promise<DataFrame>;
  includes(record: DataRecord): boolean;
}
```

#### 2. Metadata Layer (`src/lib/metadata/`)

```typescript
// –ó–∞–ø–∏—Å—å frontmatter
interface MetadataWriter {
  updateFrontmatter(file: TFile, updates: Record<string, any>): Promise<void>;
}
```

#### 3. Calendar View (`src/ui/views/Calendar/`)

```typescript
// –¢–µ–∫—É—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–æ–±—ã—Ç–∏—è
interface CalendarEvent {
  record: DataRecord;
  startDate: Date;
  endDate?: Date;
  allDay: boolean;
}
```

---

## üîß –ü—Ä–µ–¥–ª–∞–≥–∞–µ–º–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –ù–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

```
src/
‚îú‚îÄ‚îÄ lib/
‚îÇ   ‚îî‚îÄ‚îÄ interactions/                    # üÜï –ù–æ–≤—ã–π –º–æ–¥—É–ª—å
‚îÇ       ‚îú‚îÄ‚îÄ index.ts
‚îÇ       ‚îú‚îÄ‚îÄ DragDropManager.ts          # –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä
‚îÇ       ‚îú‚îÄ‚îÄ TouchGestureHandler.ts      # –û–±—Ä–∞–±–æ—Ç–∫–∞ touch-—Å–æ–±—ã—Ç–∏–π
‚îÇ       ‚îú‚îÄ‚îÄ MouseGestureHandler.ts      # –û–±—Ä–∞–±–æ—Ç–∫–∞ mouse-—Å–æ–±—ã—Ç–∏–π
‚îÇ       ‚îú‚îÄ‚îÄ TimelineSnapEngine.ts       # –ü—Ä–∏–≤—è–∑–∫–∞ –∫ –≤—Ä–µ–º–µ–Ω–Ω–æ–π —Å–µ—Ç–∫–µ
‚îÇ       ‚îú‚îÄ‚îÄ CollisionResolver.ts        # –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤
‚îÇ       ‚îî‚îÄ‚îÄ types.ts                    # –¢–∏–ø—ã –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
‚îú‚îÄ‚îÄ ui/
‚îÇ   ‚îî‚îÄ‚îÄ views/
‚îÇ       ‚îî‚îÄ‚îÄ Calendar/
‚îÇ           ‚îî‚îÄ‚îÄ components/
‚îÇ               ‚îî‚îÄ‚îÄ TimelineBar/        # üÜï –ù–æ–≤—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
‚îÇ                   ‚îú‚îÄ‚îÄ TimelineBar.svelte
‚îÇ                   ‚îú‚îÄ‚îÄ DragHandle.svelte
‚îÇ                   ‚îú‚îÄ‚îÄ ResizeHandle.svelte
‚îÇ                   ‚îî‚îÄ‚îÄ GhostPreview.svelte
```

### –î–∏–∞–≥—Ä–∞–º–º–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                      Calendar View                          ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê         ‚îÇ
‚îÇ  ‚îÇ    Day 1    ‚îÇ  ‚îÇ    Day 2    ‚îÇ  ‚îÇ    Day 3    ‚îÇ   ...   ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§  ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§  ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§         ‚îÇ
‚îÇ  ‚îÇ TimelineBar ‚îÇ  ‚îÇ TimelineBar ‚îÇ  ‚îÇ TimelineBar ‚îÇ         ‚îÇ
‚îÇ  ‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ  ‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ  ‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ         ‚îÇ
‚îÇ  ‚îÇ ‚îÇ Drag    ‚îÇ ‚îÇ  ‚îÇ ‚îÇ Drag    ‚îÇ ‚îÇ  ‚îÇ ‚îÇ Drag    ‚îÇ ‚îÇ         ‚îÇ
‚îÇ  ‚îÇ ‚îÇ Handle  ‚îÇ ‚îÇ  ‚îÇ ‚îÇ Handle  ‚îÇ ‚îÇ  ‚îÇ ‚îÇ Handle  ‚îÇ ‚îÇ         ‚îÇ
‚îÇ  ‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ  ‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ  ‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ         ‚îÇ
‚îÇ  ‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ  ‚îÇ             ‚îÇ  ‚îÇ             ‚îÇ         ‚îÇ
‚îÇ  ‚îÇ ‚îÇ Resize  ‚îÇ ‚îÇ  ‚îÇ             ‚îÇ  ‚îÇ             ‚îÇ         ‚îÇ
‚îÇ  ‚îÇ ‚îÇ Handles ‚îÇ ‚îÇ  ‚îÇ             ‚îÇ  ‚îÇ             ‚îÇ         ‚îÇ
‚îÇ  ‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ  ‚îÇ             ‚îÇ  ‚îÇ             ‚îÇ         ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                           ‚îÇ
                           ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                   DragDropManager                           ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                ‚îÇ
‚îÇ  ‚îÇ TouchGesture     ‚îÇ  ‚îÇ MouseGesture     ‚îÇ                ‚îÇ
‚îÇ  ‚îÇ Handler          ‚îÇ  ‚îÇ Handler          ‚îÇ                ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                ‚îÇ
‚îÇ           ‚îÇ                      ‚îÇ                          ‚îÇ
‚îÇ           ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                          ‚îÇ
‚îÇ                      ‚ñº                                      ‚îÇ
‚îÇ           ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                              ‚îÇ
‚îÇ           ‚îÇ TimelineSnap     ‚îÇ                              ‚îÇ
‚îÇ           ‚îÇ Engine           ‚îÇ                              ‚îÇ
‚îÇ           ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                              ‚îÇ
‚îÇ                    ‚ñº                                        ‚îÇ
‚îÇ           ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                              ‚îÇ
‚îÇ           ‚îÇ Collision        ‚îÇ                              ‚îÇ
‚îÇ           ‚îÇ Resolver         ‚îÇ                              ‚îÇ
‚îÇ           ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                              ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                     ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                   MetadataWriter                            ‚îÇ
‚îÇ            (–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ frontmatter)                         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üìê API –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã

### DragDropManager

```typescript
interface DragDropManager {
  // –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —ç–ª–µ–º–µ–Ω—Ç–∞ –¥–ª—è drag & drop
  register(element: HTMLElement, config: DragConfig): DragHandle;
  
  // –£–¥–∞–ª–µ–Ω–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
  unregister(handle: DragHandle): void;
  
  // –°–æ–±—ã—Ç–∏—è
  on(event: 'dragstart' | 'drag' | 'dragend' | 'drop', callback: DragCallback): void;
  off(event: string, callback: DragCallback): void;
}

interface DragConfig {
  type: 'move' | 'resize-start' | 'resize-end';
  axis?: 'x' | 'y' | 'both';
  snapInterval?: number;        // –í –º–∏–Ω—É—Ç–∞—Ö (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 15)
  bounds?: DOMRect | 'parent';
  ghostPreview?: boolean;
}

interface DragEvent {
  record: DataRecord;
  originalTime: { start: Date; end?: Date };
  newTime: { start: Date; end?: Date };
  delta: { x: number; y: number };
  source: 'mouse' | 'touch';
}

type DragCallback = (event: DragEvent) => void;
```

### TouchGestureHandler

```typescript
interface TouchGestureHandler {
  // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∂–µ—Å—Ç–æ–≤
  handleTouchStart(event: TouchEvent): void;
  handleTouchMove(event: TouchEvent): void;
  handleTouchEnd(event: TouchEvent): void;
  
  // –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –∂–µ—Å—Ç–æ–≤
  detectGesture(): GestureType;
}

type GestureType = 
  | 'tap'           // –û–¥–∏–Ω–æ—á–Ω–æ–µ –∫–∞—Å–∞–Ω–∏–µ
  | 'long-press'    // –î–æ–ª–≥–æ–µ –Ω–∞–∂–∞—Ç–∏–µ (–¥–ª—è –Ω–∞—á–∞–ª–∞ drag)
  | 'drag'          // –ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ
  | 'pinch'         // –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ (–¥–ª—è resize)
  | 'swipe';        // –°–≤–∞–π–ø
```

### TimelineSnapEngine

```typescript
interface TimelineSnapEngine {
  // –†–∞—Å—á—ë—Ç –ø—Ä–∏–≤—è–∑–∫–∏ –∫ —Å–µ—Ç–∫–µ
  snap(time: Date, interval: number): Date;
  
  // –ü–æ–ª—É—á–µ–Ω–∏–µ –±–ª–∏–∂–∞–π—à–∏—Ö —Ç–æ—á–µ–∫ –ø—Ä–∏–≤—è–∑–∫–∏
  getNearestSnapPoints(time: Date, count: number): Date[];
  
  // –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Å–µ—Ç–∫–∏
  getGridLines(viewport: { start: Date; end: Date }): GridLine[];
}

interface GridLine {
  time: Date;
  position: number;  // –ü–æ–∑–∏—Ü–∏—è –≤ –ø–∏–∫—Å–µ–ª—è—Ö
  type: 'major' | 'minor';
}
```

### CollisionResolver

```typescript
interface CollisionResolver {
  // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–π
  checkCollision(event: CalendarEvent, others: CalendarEvent[]): Collision[];
  
  // –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤
  resolve(collision: Collision, strategy: ResolutionStrategy): Resolution;
}

type ResolutionStrategy = 
  | 'stack'       // –í–∏–∑—É–∞–ª—å–Ω–æ–µ –Ω–∞–ª–æ–∂–µ–Ω–∏–µ
  | 'shift'       // –°–¥–≤–∏–≥ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—â–µ–≥–æ
  | 'reject';     // –û—Ç–º–µ–Ω–∞ –¥–µ–π—Å—Ç–≤–∏—è

interface Collision {
  event1: CalendarEvent;
  event2: CalendarEvent;
  overlapMinutes: number;
}
```

---

## üß© –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### TimelineBar.svelte

```svelte
<script lang="ts">
  import { createEventDispatcher } from 'svelte';
  import DragHandle from './DragHandle.svelte';
  import ResizeHandle from './ResizeHandle.svelte';
  import GhostPreview from './GhostPreview.svelte';
  
  export let event: CalendarEvent;
  export let snapInterval: number = 15;
  
  const dispatch = createEventDispatcher();
  
  let isDragging = false;
  let isResizing = false;
  let ghostPosition = { top: 0, height: 0 };
  
  function handleDragStart(e: CustomEvent) {
    isDragging = true;
    dispatch('dragstart', { event, ...e.detail });
  }
  
  function handleDrag(e: CustomEvent) {
    ghostPosition = calculateGhostPosition(e.detail);
    dispatch('drag', { event, ...e.detail });
  }
  
  function handleDragEnd(e: CustomEvent) {
    isDragging = false;
    dispatch('dragend', { event, ...e.detail });
  }
  
  function handleResizeStart(e: CustomEvent) {
    isResizing = true;
    dispatch('resizestart', { event, edge: e.detail.edge });
  }
  
  function handleResize(e: CustomEvent) {
    ghostPosition = calculateGhostPosition(e.detail);
    dispatch('resize', { event, ...e.detail });
  }
  
  function handleResizeEnd(e: CustomEvent) {
    isResizing = false;
    dispatch('resizeend', { event, ...e.detail });
  }
</script>

<div 
  class="timeline-bar"
  class:dragging={isDragging}
  class:resizing={isResizing}
>
  <DragHandle 
    on:dragstart={handleDragStart}
    on:drag={handleDrag}
    on:dragend={handleDragEnd}
  />
  
  <div class="timeline-bar-content">
    <span class="event-title">{event.record.name}</span>
    <span class="event-time">{formatTime(event.startDate)} - {formatTime(event.endDate)}</span>
  </div>
  
  <ResizeHandle 
    edge="top"
    on:resizestart={handleResizeStart}
    on:resize={handleResize}
    on:resizeend={handleResizeEnd}
  />
  
  <ResizeHandle 
    edge="bottom"
    on:resizestart={handleResizeStart}
    on:resize={handleResize}
    on:resizeend={handleResizeEnd}
  />
  
  {#if isDragging || isResizing}
    <GhostPreview position={ghostPosition} />
  {/if}
</div>

<style>
  .timeline-bar {
    position: absolute;
    left: 0;
    right: 0;
    border-radius: var(--radius-s);
    cursor: grab;
    transition: box-shadow 0.2s ease;
  }
  
  .timeline-bar.dragging {
    cursor: grabbing;
    box-shadow: var(--shadow-l);
    opacity: 0.8;
  }
  
  .timeline-bar.resizing {
    cursor: ns-resize;
  }
</style>
```

### –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω (CSS)

```css
/* –ú–æ–±–∏–ª—å–Ω–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è */
@media (max-width: 768px) {
  .timeline-bar {
    /* –£–≤–µ–ª–∏—á–µ–Ω–Ω–∞—è –æ–±–ª–∞—Å—Ç—å –∫–∞—Å–∞–Ω–∏—è –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö */
    min-height: 44px;
    padding: 8px;
  }
  
  .resize-handle {
    /* –£–≤–µ–ª–∏—á–µ–Ω–Ω—ã–µ —Ä—É—á–∫–∏ –¥–ª—è touch */
    height: 20px;
    opacity: 1;
  }
  
  .drag-handle {
    /* –Ø–≤–Ω–∞—è –≤–∏–∑—É–∞–ª—å–Ω–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è –¥–ª—è touch */
    width: 44px;
    height: 44px;
  }
}

/* Touch-specific —Å—Ç–∏–ª–∏ */
@media (pointer: coarse) {
  .timeline-bar {
    /* –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ —Å–ª—É—á–∞–π–Ω—ã—Ö –∫–ª–∏–∫–æ–≤ */
    -webkit-touch-callout: none;
    -webkit-user-select: none;
    user-select: none;
  }
  
  .timeline-bar:active {
    /* –í–∏–∑—É–∞–ª—å–Ω—ã–π feedback –ø—Ä–∏ –∫–∞—Å–∞–Ω–∏–∏ */
    transform: scale(1.02);
  }
}
```

---

## üìÖ –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –§–∞–∑–∞ 1: –ë–∞–∑–æ–≤—ã–π Drag & Drop (v3.2.0-alpha)

| –ó–∞–¥–∞—á–∞ | –û—Ü–µ–Ω–∫–∞ | –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ |
|--------|--------|-------------|
| –°–æ–∑–¥–∞–Ω–∏–µ DragDropManager | 3 –¥–Ω—è | - |
| MouseGestureHandler | 2 –¥–Ω—è | DragDropManager |
| –ë–∞–∑–æ–≤—ã–π TimelineBar | 3 –¥–Ω—è | - |
| –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Calendar view | 2 –¥–Ω—è | TimelineBar, DragDropManager |
| Unit-—Ç–µ—Å—Ç—ã | 2 –¥–Ω—è | –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã |

### –§–∞–∑–∞ 2: Touch –∏ –º–æ–±–∏–ª—å–Ω–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è (v3.2.0-beta)

| –ó–∞–¥–∞—á–∞ | –û—Ü–µ–Ω–∫–∞ | –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ |
|--------|--------|-------------|
| TouchGestureHandler | 3 –¥–Ω—è | DragDropManager |
| –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π CSS | 2 –¥–Ω—è | TimelineBar |
| iOS Safari —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ | 1 –¥–µ–Ω—å | Touch support |
| Android Chrome —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ | 1 –¥–µ–Ω—å | Touch support |

### –§–∞–∑–∞ 3: –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (v3.2.0)

| –ó–∞–¥–∞—á–∞ | –û—Ü–µ–Ω–∫–∞ | –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ |
|--------|--------|-------------|
| TimelineSnapEngine | 2 –¥–Ω—è | - |
| CollisionResolver | 2 –¥–Ω—è | - |
| Multi-day —Å–æ–±—ã—Ç–∏—è | 3 –¥–Ω—è | Snap, Collision |
| ResizeHandles | 2 –¥–Ω—è | TimelineBar |
| Keyboard accessibility | 2 –¥–Ω—è | DragDropManager |

---

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

- [API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](api.md)
- [–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è](user-guide.md)
- [CONTRIBUTING.md](../CONTRIBUTING.md)

---

## üìù –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

| –í–µ—Ä—Å–∏—è | –î–∞—Ç–∞ | –ò–∑–º–µ–Ω–µ–Ω–∏—è |
|--------|------|-----------|
| 0.1.0 | 2026-01-27 | –ù–∞—á–∞–ª—å–Ω–∞—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è |

---

> **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ –¥–ª—è –∫–æ–Ω—Ç—Ä–∏–±—å—é—Ç–æ—Ä–æ–≤:**  
> –≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç —è–≤–ª—è–µ—Ç—Å—è –∂–∏–≤—ã–º –¥–æ–∫—É–º–µ–Ω—Ç–æ–º –∏ –±—É–¥–µ—Ç –æ–±–Ω–æ–≤–ª—è—Ç—å—Å—è –ø–æ –º–µ—Ä–µ —Ä–∞–∑–≤–∏—Ç–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã. –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã –ø—Ä–æ—Ö–æ–¥–∏—Ç—å —á–µ—Ä–µ–∑ PR review.
